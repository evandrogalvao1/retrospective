<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scrum Retrospective Board - GitHub Edition</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📋</text></svg>">
</head>
<body>
  <!-- Modal de Configuração -->
  <div id="config-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>🔧 Configuração GitHub</h2>
      <p>Configure sua conexão com o repositório GitHub:</p>
      
      <div class="config-form">
        <label for="github-token">GitHub Token (Personal Access Token):</label>
        <input type="password" id="github-token" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx">
        <small>
          <a href="https://github.com/settings/tokens/new?scopes=repo,workflow&description=Scrum%20Retrospective%20Board" target="_blank">
            🔗 Criar novo token GitHub (abre em nova aba)
          </a>
        </small>
        
        <label for="repo-owner">Seu usuário GitHub:</label>
        <input type="text" id="repo-owner" placeholder="seu-usuario">
        
        <label for="repo-name">Nome do repositório:</label>
        <input type="text" id="repo-name" placeholder="scrum-retro-board">
        
        <button id="config-submit" class="btn-primary">💾 Salvar Configuração</button>
      </div>
      
      <div style="margin-top: 2rem; padding: 1rem; background: #e6fffa; border-radius: 6px; text-align: left;">
        <h4 style="color: #2c7a7b; margin-bottom: 0.5rem;">📖 Como configurar:</h4>
        <ol style="color: #285e61; font-size: 0.9rem; margin-left: 1rem;">
          <li>Crie um repositório GitHub (público ou privado)</li>
          <li>Gere um Personal Access Token com permissões 'repo' e 'workflow'</li>
          <li>Preencha os campos acima com suas informações</li>
          <li>Clique em "Salvar Configuração"</li>
        </ol>
      </div>
    </div>
  </div>

  <!-- Modal de Login -->
  <div id="user-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>🚀 Acesso ao Retrospective Board</h2>
      <p>Entre com suas informações para começar:</p>
      
      <input type="text" id="username-input" placeholder="Seu nome completo" maxlength="50">
      <input type="text" id="user-registry-input" placeholder="Sua matrícula/ID" maxlength="20">
      <input type="password" id="admin-password-input" placeholder="Senha admin (opcional)">
      
      <button id="login-submit" class="btn-primary">🎯 Entrar no Board</button>
      
      <div style="margin-top: 1.5rem; padding: 1rem; background: #fffaf0; border-radius: 6px; text-align: left;">
        <h4 style="color: #c05621; margin-bottom: 0.5rem;">💡 Como usar:</h4>
        <ul style="color: #744210; font-size: 0.9rem; margin-left: 1rem;">
          <li><strong>Nome:</strong> Será exibido nos cartões que você criar</li>
          <li><strong>Matrícula:</strong> Usado como identificador único</li>
          <li><strong>Senha admin:</strong> Digite 'admin123' para acesso administrativo</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Aplicação Principal -->
  <div id="app" style="display: none;">
    <!-- Header -->
    <header>
      <h1>📋 Scrum Retrospective Board</h1>
      <div class="header-controls">
        <span id="board-info">📊 Carregando...</span>
        <span id="user-info">👤 Usuário...</span>
        <span id="votes-left">🗳️ Votos: 0/3</span>
        <span id="sync-status" class="status-indicator status-loading">🔄 Conectando...</span>
        
        <!-- Controles Administrativos -->
        <div id="admin-controls" style="display: none;">
          <button id="change-max-votes" class="btn-warning" title="Alterar limite de votos">⚙️ Votos</button>
          <button id="create-backup" class="btn-info" title="Criar backup manual">💾 Backup</button>
          <button id="export-data" class="btn-success" title="Exportar dados">📤 Export</button>
        </div>
        
        <!-- Controles Gerais -->
        <div class="controls">
          <button id="refresh-data" class="btn-info" title="Atualizar dados">🔄 Sync</button>
          <button id="toggle-sync" class="btn-warning" title="Pausar/Retomar sincronização automática">⏸️ Pausar</button>
        </div>
      </div>
    </header>

    <!-- Board Principal -->
    <main>
      <div class="board">
        <!-- Coluna: O que foi bom -->
        <div class="column" data-column="good">
          <h2>✅ O que foi bom</h2>
          <div class="cards" id="good-cards">
            <!-- Cards serão inseridos dinamicamente -->
          </div>
          <button class="add-card" data-column="good">➕ Adicionar cartão</button>
        </div>

        <!-- Coluna: O que não foi bom -->
        <div class="column" data-column="bad">
          <h2>❌ O que não foi bom</h2>
          <div class="cards" id="bad-cards">
            <!-- Cards serão inseridos dinamicamente -->
          </div>
          <button class="add-card" data-column="bad">➕ Adicionar cartão</button>
        </div>

        <!-- Coluna: O que fazer para melhorar -->
        <div class="column" data-column="improve">
          <h2>🎯 O que fazer para melhorar</h2>
          <div class="cards" id="improve-cards">
            <!-- Cards serão inseridos dinamicamente -->
          </div>
          <button class="add-card" data-column="improve">➕ Adicionar cartão</button>
        </div>
      </div>
    </main>
  </div>

  <!-- Notificação -->
  <div id="notification" style="display: none;">
    Notificação
  </div>

  <!-- Footer (apenas para informação) -->
  <footer style="position: fixed; bottom: 10px; left: 10px; font-size: 0.7rem; color: rgba(255,255,255,0.7); z-index: 1000;">
    🚀 GitHub Edition v1.0 | 
    <a href="https://github.com" target="_blank" style="color: rgba(255,255,255,0.8);">Powered by GitHub</a>
  </footer>

  <!-- Scripts -->
  <script src="js/config.js"></script>
  <script src="js/github-api.js"></script>
  <script src="js/app.js"></script>
</body>
</html>